<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<title>Un petit dessin</title></title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css">
<!--
	#grandcadre	{
					position: absolute;
					top: 0px;
					left: 0px;
					border: dotted 2px black; 
					width: 600px;
					height: 450px;
				}
				
	#petitcadre	{
						position: absolute;
						top: 450px;
						left: 600px;
						border: solid 2px black;
						width: 200px;
						height: 150px;
					}
				
	.point	{
					position: absolute;
					width: 3px;
					height: 3px;
					background-color: blue;
				}
-->
</style>

<script type="text/javascript">
<!--
  var dessin = false;
  var couleur = "blue";

	function Init()
  {
			var petitcadre = document.getElementById("petitcadre");
      var zoneinfo = document.getElementById("info");

      zoneinfo.style.color = couleur;
			zoneinfo.appendChild(document.createTextNode(couleur));
       						
			petitcadre.addEventListener("mousemove", dessine);
			petitcadre.addEventListener("click", crayon);			
	}
		
	function crayon(evenement)
	{
  	 if (evenement.ctrlKey)
  	 {
        if (couleur == "blue")
				{
				  couleur = "red";
				}
				else
				{
					couleur="blue";
				}			
				
				var zoneinfo = document.getElementById("info");
				
				zoneinfo.style.color = couleur;
				zoneinfo.removeChild(zoneinfo.childNodes[0]);
				zoneinfo.appendChild(document.createTextNode(couleur));  	 
     }
     
     dessin =! dessin;
	}
		
	function dessine(evenement)
	{
			if (dessin)
			{
  			var grandcadre = document.getElementById("grandcadre");
				var newdiv = document.createElement("div");
				
				grandcadre.appendChild(newdiv);
				
				newdiv.style.left = (evenement.clientX - 600)*3 + "px";
				newdiv.style.top = (evenement.clientY - 450)*3 + "px";
				newdiv.style.backgroundColor = couleur;
				newdiv.setAttribute("class", "point");
			}			
	}
	
//-->
</script>

</head>
<body onload="Init()">

<div id="grandcadre"><p id="info"></p></div>
<div id="petitcadre"></div>

</body>
</html>
